# eltx_project
Панорамная съемка на аппаратной платформе IP-камеры  

Общее описание: используя SDK и аппаратную часть IP-камеры на базе SoC Ingenic T10/T20 с
моторизованным приводом pan/tilt, реализовать съемку панорамных "фото". Изображение
записывается поочередно по одному столбцу пикселей, после каждого столбца привод поворачивает
камеру на небольшой угол. После завершения съемки (угол поворота ограничен конструкцией камеры,
но близок к 360 градусам) изображение кодируется в JPEG и отправляется в telegram.
Базовый функционал:  
• Демон работы с изображением принимает сигнал от telegram клиента, когда нужно сделать
снимок, и, используя библиотеки и драйверы SDK, получает изображение с матрицы и сохраняет
один столбец пикселей. Затем с помощью message queue командует демону работы с мотором
повернуть камеру на необходимый угол. После подтверждения от демона работы с мотором
получает следующий столбец и т.д. По завершении съемки кодирует изображение в JPEG с
помощью библиотеки imagemagick и отправляет через telegram, а демону работы с мотором
командует вернуть камеру в исходное положение.  
• Демон работы с мотором получает с помощью message queue команды повернуть камеру на
нужное количество шагов, с помощью драйвера SDK выполняет это действие и подтверждает
выполнение через message queue.  
• Telegram клиент (shell-скрипт, использующий curl) берем готовый, добавляем отправку сигнала
для демона работы с изображением при получении команды сделать снимок.
Для работы с устройством собираем стенд из ПК, к которому есть удаленный доступ (физически
изолированный от сети предприятия), соединенный с камерой. Для отладки между камерой и ПК
настраивается NFS share.  
Если осталось время, даем бонусное задание - реверс-инжиниринг прошивки, с которой камера
продается (дамп flash памяти, получение root-доступа, изучение аппаратных ресурсов и структуры ПО,
сборка SDK, замена ядра и утилит на самостоятельно собранные) по гайду. Работа с кодом в этом
задании сводится к конфигурированию и сборке.  
